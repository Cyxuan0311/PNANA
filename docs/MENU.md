# pnana 菜单栏功能文档

本文档详细说明 pnana 菜单栏的所有功能。

## 📋 目录

- [菜单栏概述](#菜单栏概述)
- [File 菜单](#file-菜单)
- [Edit 菜单](#edit-菜单)
- [View 菜单](#view-菜单)
- [Settings 菜单](#settings-菜单)
- [Help 菜单](#help-菜单)
- [底部帮助栏](#底部帮助栏)

---

## 菜单栏概述

pnana 采用三栏布局设计：

1. **顶部菜单栏**：提供快速访问所有功能的菜单
2. **中间编辑区**：主要的代码编辑区域
3. **底部帮助栏**：实时显示常用快捷键提示

菜单栏支持键盘和鼠标操作，提供直观的用户体验。

---

## File 菜单

文件操作相关功能。

### New (Ctrl+N)

创建新的未命名文档。

- **功能**：打开一个新的空白标签页
- **快捷键**：`Ctrl+N`
- **说明**：新文档默认未命名，保存时会提示输入文件名

### Open (Ctrl+O)

打开文件浏览器。

- **功能**：显示/隐藏文件浏览器侧边栏
- **快捷键**：`Ctrl+O`
- **说明**：
  - 在文件浏览器中可以使用方向键导航
  - 按 `Enter` 打开选中的文件
  - 按 `Esc` 关闭文件浏览器

### Save (Ctrl+S)

保存当前文件。

- **功能**：保存当前标签页的文件
- **快捷键**：`Ctrl+S`
- **说明**：
  - 如果文件已命名，直接保存
  - 如果文件未命名，会提示使用"另存为"功能

### Save As (Ctrl+Shift+S)

另存为文件。

- **功能**：将当前文件保存为新文件
- **快捷键**：`Ctrl+Shift+S` 或 `Alt+A`
- **说明**：
  - 打开另存为对话框
  - 输入完整路径或相对路径
  - 按 `Enter` 保存，按 `Esc` 取消

### Close (Ctrl+W)

关闭当前标签页。

- **功能**：关闭当前打开的标签页
- **快捷键**：`Ctrl+W`
- **说明**：
  - 如果有未保存的更改，会提示保存
  - 如果只有一个标签页，关闭后会退出编辑器

### Exit (Ctrl+Q)

退出程序。

- **功能**：退出 pnana 编辑器
- **快捷键**：`Ctrl+Q`
- **说明**：
  - 如果有未保存的更改，会提示保存
  - 确认后退出程序

---

## Edit 菜单

编辑操作相关功能。

### Undo (Ctrl+Z)

撤销上一次操作。

- **功能**：撤销最近的一次编辑操作
- **快捷键**：`Ctrl+Z`
- **说明**：支持无限次撤销

### Redo (Ctrl+Y)

重做上一次撤销的操作。

- **功能**：重做最近撤销的操作
- **快捷键**：`Ctrl+Y` 或 `Ctrl+Shift+Z`
- **说明**：支持无限次重做

### Cut (Ctrl+X)

剪切选中内容。

- **功能**：剪切选中的文本到剪贴板
- **快捷键**：`Ctrl+X`
- **说明**：如果没有选中文本，剪切当前行

### Copy (Ctrl+C)

复制选中内容。

- **功能**：复制选中的文本到剪贴板
- **快捷键**：`Ctrl+C`
- **说明**：如果没有选中文本，复制当前行

### Paste (Ctrl+V)

粘贴剪贴板内容。

- **功能**：在光标位置粘贴剪贴板内容
- **快捷键**：`Ctrl+V`
- **说明**：支持系统剪贴板

### Select All (Ctrl+A)

全选文档内容。

- **功能**：选中整个文档的所有内容
- **快捷键**：`Ctrl+A`
- **说明**：选中后可以进行复制、剪切等操作

### Find (Ctrl+F)

搜索文本。

- **功能**：打开搜索对话框
- **快捷键**：`Ctrl+F`
- **说明**：
  - 输入搜索关键词
  - 按 `Enter` 执行搜索
  - 使用 `F3` 查找下一个，`Shift+F3` 查找上一个
  - 支持正则表达式

### Replace (Ctrl+H)

替换文本。

- **功能**：打开替换对话框
- **快捷键**：`Ctrl+H`
- **说明**：
  - 输入查找内容和替换内容
  - 按 `Enter` 执行替换
  - 支持正则表达式和批量替换

---

## View 菜单

视图相关功能。

### Toggle Line Numbers

切换行号显示。

- **功能**：显示/隐藏行号
- **快捷键**：`Ctrl+Shift+L`
- **说明**：可以在绝对行号和相对行号之间切换

### Toggle Relative Numbers

切换相对行号。

- **功能**：在绝对行号和相对行号之间切换
- **说明**：
  - 绝对行号：显示实际行号
  - 相对行号：显示相对于当前行的行号

### Toggle Whitespace

切换空白字符显示。

- **功能**：显示/隐藏空白字符（空格、Tab等）
- **说明**：帮助查看代码格式

### Split Horizontal

水平分屏。

- **功能**：水平分割编辑区域
- **说明**：可以在同一窗口中并排查看两个文件

### Split Vertical

垂直分屏。

- **功能**：垂直分割编辑区域
- **说明**：可以在同一窗口中上下查看两个文件

### Close Split

关闭分屏。

- **功能**：关闭当前分屏视图
- **说明**：恢复到单窗口视图

---

## Settings 菜单

设置相关功能。

### Preferences

打开偏好设置。

- **功能**：打开设置对话框（未来功能）
- **说明**：可以修改编辑器设置

### Theme

切换主题。

- **功能**：打开主题选择菜单
- **快捷键**：`Ctrl+T`
- **说明**：
  - 使用方向键或 `k`/`j` 键导航
  - 按 `Enter` 应用选中的主题
  - 按 `Esc` 取消
  - 可用主题：Monokai, Dracula, Solarized Dark/Light, OneDark, Nord

### Font Size

调整字体大小。

- **功能**：调整编辑器字体大小（未来功能）
- **说明**：当前可通过配置文件设置

### Tab Size

设置 Tab 大小。

- **功能**：设置 Tab 键的缩进空格数（未来功能）
- **说明**：当前可通过配置文件设置，默认 4 个空格

### Encoding

设置文件编码。

- **功能**：设置文件编码（未来功能）
- **说明**：当前可通过配置文件设置，默认 UTF-8

---

## Help 菜单

帮助相关功能。

### Welcome

显示欢迎页面。

- **功能**：显示 pnana 的欢迎信息和快速开始指南
- **说明**：帮助新用户快速了解编辑器

### Keyboard Shortcuts

显示快捷键列表。

- **功能**：显示所有快捷键的完整列表
- **快捷键**：`F1`
- **说明**：可以随时查看快捷键参考

### About

关于 pnana。

- **功能**：显示 pnana 的版本信息和作者信息
- **说明**：查看编辑器版本和许可证信息

---

## 底部帮助栏

底部帮助栏实时显示常用快捷键提示，帮助用户快速了解可用操作。

### 显示内容

底部帮助栏显示以下常用快捷键：

```
^S Save  ^Q Quit  ^F Find  ^H Replace  ^G Go to Line  ^Z Undo  ^Y Redo
```

### 说明

- `^` 表示 `Ctrl` 键
- 帮助栏会根据当前上下文动态更新显示的快捷键
- 帮助栏始终显示在编辑器底部

### 快捷键说明

| 快捷键 | 功能 |
|--------|------|
| `^S` | 保存文件 |
| `^Q` | 退出程序 |
| `^F` | 搜索 |
| `^H` | 替换 |
| `^G` | 跳转到行 |
| `^Z` | 撤销 |
| `^Y` | 重做 |

---

## 菜单操作技巧

1. **快速访问**：使用快捷键比鼠标点击更快
2. **上下文菜单**：某些菜单项会根据当前状态启用/禁用
3. **键盘导航**：所有菜单都支持键盘导航
4. **鼠标支持**：完全支持鼠标操作

---

## 更新日志

- **v1.0.0**：初始菜单系统
- 支持键盘和鼠标操作
- 提供完整的菜单功能

---

**注意**：本文档基于当前版本的菜单系统。如有更新，请参考最新代码。

