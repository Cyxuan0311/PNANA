# pnana 快捷键参考文档

本文档列出了 pnana 文本编辑器的所有快捷键。

## 📋 目录

- [文件操作](#文件操作)
- [编辑操作](#编辑操作)
- [搜索和导航](#搜索和导航)
- [视图操作](#视图操作)
- [标签页操作](#标签页操作)
- [基本编辑键](#基本编辑键)

---

## 文件操作

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Ctrl+S` | 保存文件 | 保存当前文件 |
| `Alt+A` | 另存为 | 打开另存为对话框，可保存未命名文件 |
| `Ctrl+Q` | 退出编辑器 | 退出程序（如有未保存更改会提示） |
| `Ctrl+N` | 新建文件 | 创建新的未命名文档 |
| `Ctrl+O` | 打开文件浏览器 | 切换文件浏览器显示/隐藏 |
| `Ctrl+W` | 关闭标签页 | 关闭当前标签页 |
| `Alt+F` | 创建文件夹 | 在文件浏览器当前目录创建新文件夹 |

### 使用提示

- **保存未命名文件**：按 `Ctrl+S` 会提示使用 `Alt+A`，然后输入文件名即可保存
- **另存为**：按 `Alt+A` 打开对话框，输入完整路径或相对路径

---

## 编辑操作

### 撤销/重做

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Ctrl+Z` | 撤销 | 撤销上一次操作 |
| `Ctrl+Y` | 重做 | 重做上一次撤销的操作 |
| `Ctrl+Shift+Z` | 重做 | 重做的替代快捷键 |

### 剪贴板操作

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Ctrl+X` | 剪切 | 剪切选中内容到剪贴板 |
| `Ctrl+C` | 复制 | 复制选中内容到剪贴板 |
| `Ctrl+V` | 粘贴 | 粘贴剪贴板内容 |
| `Ctrl+A` | 全选 | 选中整个文档 |

### 行操作

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Ctrl+D` | 复制行 | 复制当前行 |
| `Ctrl+L` | 删除行 | 删除当前行 |
| `Ctrl+Shift+K` | 删除行 | 删除行的替代快捷键 |
| `Alt+↑` | 上移行 | 将当前行向上移动 |
| `Alt+↓` | 下移行 | 将当前行向下移动 |

### 删除操作

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Ctrl+Backspace` | 删除单词 | 删除光标前的单词 |

### 缩进和注释

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Tab` | 缩进 | 在光标位置插入4个空格，或在行首缩进整行 |
| `Shift+Tab` | 取消缩进 | 移除行首的缩进（最多4个空格） |
| `Ctrl+/` | 切换注释 | 切换当前行的注释状态 |

### Tab 键行为说明

- **光标在行首或行首空白处**：缩进整行（在行首插入4个空格）
- **光标在行中间**：在光标位置插入4个空格

---

## 搜索和导航

### 搜索和替换

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Ctrl+F` | 搜索 | 打开搜索对话框 |
| `Ctrl+H` | 替换 | 打开替换对话框 |
| `F3` | 下一个匹配 | 跳转到下一个搜索结果 |
| `Shift+F3` | 上一个匹配 | 跳转到上一个搜索结果 |
| `Ctrl+G` | 跳转到行 | 打开跳转到行对话框 |

### 光标导航

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Home` | 行首 | 移动光标到当前行首 |
| `End` | 行尾 | 移动光标到当前行尾 |
| `Ctrl+Home` | 文件开头 | 移动光标到文件开头 |
| `Ctrl+End` | 文件结尾 | 移动光标到文件结尾 |

### 基本导航键

以下键不是快捷键，而是基本导航操作：

| 键 | 功能 | 说明 |
|----|------|------|
| `↑` `↓` `←` `→` | 移动光标 | 上下左右移动光标 |
| `PageUp` | 向上翻页 | 向上滚动一页 |
| `PageDown` | 向下翻页 | 向下滚动一页 |
| `Shift+方向键` | 选择文本 | 按住 Shift 并移动光标进行选择 |

---

## 视图操作

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Ctrl+T` | 主题菜单 | 打开主题选择菜单 |
| `F1` | 帮助 | 显示/隐藏帮助窗口 |
| `Ctrl+Shift+L` | 切换行号 | 显示/隐藏行号 |

### 主题菜单操作

在主题菜单中：
- `↑` `↓` 或 `k` `j`：上下导航
- `Enter`：应用选中的主题
- `Esc`：取消

---

## 标签页操作

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Alt+Tab` | 下一个标签 | 切换到下一个标签页 |
| `Ctrl+PageDown` | 下一个标签 | 切换到下一个标签页（替代） |
| `Alt+Shift+Tab` | 上一个标签 | 切换到上一个标签页 |
| `Ctrl+PageUp` | 上一个标签 | 切换到上一个标签页（替代） |

---

## 基本编辑键

以下键不是快捷键，而是基本编辑操作，在任何模式下都可用：

| 键 | 功能 | 说明 |
|----|------|------|
| `Backspace` | 退格 | 删除光标前的字符 |
| `Delete` | 删除 | 删除光标后的字符 |
| `Enter` | 换行 | 插入新行 |
| 可打印字符 | 输入文本 | 直接输入字符 |

---

## 模式特定快捷键

### 搜索模式

在搜索模式（按 `Ctrl+F` 后）：
- `Enter`：执行搜索
- `Esc`：取消搜索
- `Backspace`：删除搜索字符
- 其他字符：添加到搜索字符串

### 替换模式

在替换模式（按 `Ctrl+H` 后）：
- `Enter`：执行替换
- `Esc`：取消替换
- `Backspace`：删除输入字符
- 其他字符：添加到替换字符串

### 跳转到行模式

在跳转到行模式（按 `Ctrl+G` 后）：
- `Enter`：跳转到指定行
- `Esc`：取消
- `Backspace`：删除数字
- 数字键：输入行号

### 另存为对话框

在另存为对话框（按 `Alt+A` 后）：
- `Enter`：保存文件
- `Esc`：取消
- `Backspace`：删除字符
- 其他字符：输入文件路径

### 创建文件夹对话框

在创建文件夹对话框（按 `Alt+F` 后）：
- `Enter`：创建文件夹
- `Esc`：取消
- `Backspace`：删除字符
- 其他字符：输入文件夹名称

---

## 快捷键别名

某些操作有多个快捷键（别名）：

| 功能 | 主快捷键 | 别名 |
|------|---------|------|
| 重做 | `Ctrl+Y` | `Ctrl+Shift+Z` |
| 删除行 | `Ctrl+L` | `Ctrl+Shift+K` |
| 下一个标签 | `Alt+Tab` | `Ctrl+PageDown` |
| 上一个标签 | `Alt+Shift+Tab` | `Ctrl+PageUp` |

---

## 快捷键系统架构

pnana 使用模块化的快捷键管理系统：

- **EventParser**：解析键盘事件
- **KeyBindingManager**：管理快捷键绑定
- **ActionExecutor**：执行快捷键动作

所有快捷键都通过统一的系统处理，支持：
- 快捷键别名
- 运行时绑定修改（未来功能）
- 配置文件支持（未来功能）

---

## 提示和技巧

1. **快速保存未命名文件**：`Ctrl+S` → `Alt+A` → 输入文件名 → `Enter`
2. **快速切换主题**：`Ctrl+T` → 使用方向键选择 → `Enter`
3. **快速搜索**：`Ctrl+F` → 输入搜索词 → `Enter` → `F3` 查找下一个
4. **快速跳转**：`Ctrl+G` → 输入行号 → `Enter`
5. **多标签编辑**：`Ctrl+N` 创建新文件，使用 `Alt+Tab` 切换

---

## 更新日志

- **v1.0.0**：初始快捷键系统
- **重构版本**：迁移到模块化快捷键管理系统

---

**注意**：本文档基于当前版本的快捷键系统。如有更新，请参考最新代码。

